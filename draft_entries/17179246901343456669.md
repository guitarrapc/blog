---
Title: コンテナのGUIアプリケーションをホストからブラウザで操作する方法
Category:
- Container
Date: 2026-01-08T23:00:00+09:00
EditURL: https://blog.hatena.ne.jp/guitarrapc_tech/guitarrapc-tech.hatenablog.com/atom/entry/17179246901343456669
PreviewURL: https://tech.guitarrapc.com/draft/entry/AZ3LEK2V5erilaQynsTNIkw_hCc
CustomPath: 2026/01/08/230000
Draft: true
---

[前回の記事](https://tech.guitarrapc.com/entry/2026/01/07/230000)で、コンテナのGUIアプリケーションをホストからRDP/VNCでアクセスする構成を紹介しました。今回は、それを一歩進めてブラウザ経由でコンテナのGUIアプリケーションにアクセスする方法を紹介します。
RDP/VNCと違って、ブラウザだけでアクセスできるため、かなり手軽ですし直感的に使えます。

[:contents]

## はじめに

前回まとめたコンテナのGUIアプリケーションをホストから操作する方法のうち、ブラウザ経由で接続する方法が今回です。

| 方法 | クロスプラットフォーム | GPU不要 | 概要 |
| --- | --- | --- | --- |
| X11転送 | X | O | ホストにXサーバーをインストールし、コンテナからX11プロトコルで接続する[^1] |
| VNC | O | O | コンテナ内にVNCサーバーをインストールし、ホストからVNCクライアントで接続する |
| RDP | O | O | コンテナ内にRDPサーバーをインストールし、ホストからRDPクライアントで接続する |
| ブラウザ経由 | O| O | コンテナのVNCをWebSocket化して差分ビットマップを送信、ホストからブラウザで接続する |
| WebRTC経由 | O | X | コンテナをWebRTC化して動画ストリーム配信、ホストからブラウザで接続する |

## コンテナにブラウザ経由でアクセスできるようにする

まず、ホストマシンからブラウザで接続する様子を示します。ホストマシンからブラウザで接続するとデスクトップが表示、操作できます。ほしいのはこれだった。

本構成は、Ubuntu 24.04ベース(KasmVNC)とAlpine Linuxベース(noVNC)の2種類を用意しました。

| Ubuntu 24.04 | Alpine |
| --- | --- |
| | |

## コンテナ構成

UbuntuとAlpineでそれぞれ構成が異なります。

## Ubuntu 24.04

Ubuntu 24.04ベースのコンテナは、KasmVNCを利用しています。ファイル配置は次の通りです。

```shell
$ tree
.
├── Dockerfile
└── kasmvnc.yaml
```


## Alpine Linux

Alpine Linuxベースのコンテナは、noVNCを利用しています。ファイル配置は次の通りです。こっちは依存が多いため、supervisordでプロセス管理しています。

```shellshell
$ tree
.
├── Dockerfile
└── supervisord.conf
```

## コンテナへの接続フロー

ホストからコンテナへの接続フローは次の通りです。

<details><summary>クリックで接続フローのMermaidを開く</summary>

```mermaid
graph LR
  subgraph ホストマシン
    A[ブラウザ]
  end
  subgraph コンテナ内
    B[WebSocket<br/>接続]
    C[VNCサーバー<br/>KasmVNC/noVNC]
    E[仮想Xサーバー<br/>Xvfb :99]
    F[デスクトップ環境<br/>fluxbox]
    G[JMeter GUI]
  end

  A -->|Port 8080| B
  B -->|VNCプロトコル| C
  C -->|X11プロトコル| E
  E --> F
  F --> G
```

</details>

## パッケージ一覧


## まとめ


## 参考

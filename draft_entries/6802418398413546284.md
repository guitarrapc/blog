---
Title: はてなブログのみたままモード記事をMarkdownモード記事へ変換する
Category:
- HatenaBlog
Date: 2025-04-08T23:59:00+09:00
EditURL: https://blog.hatena.ne.jp/guitarrapc_tech/guitarrapc-tech.hatenablog.com/atom/entry/6802418398413546284
PreviewURL: https://tech.guitarrapc.com/draft/entry/b2PI2abli-fAFbpWXlnuxiOc_Gw
CustomPath: 2025/04/08/235900
Draft: true
---

このブログの古い記事はWordPressからはてなブログにインポートしたもので、当時はHTMLを直書きしていました。
HTML直書きははてなブログの「みたままモード」に相当し、これらの記事はマークダウンなのにHTML構文が溢れてtextlintも効かない状況でした。
先日これらの記事をMarkdownモードにまとめて変換したのでメモです。

[:contents]

# 方針

[はてなブログ開発ブログ](https://staff.hatenablog.com/entry/2014/12/16/120000)によると、みたままモードの記事からMardownモードへの変換をサポートしていません。このため、みたままモードの記事を一度消してから、同じ日付でMarkdownモードの記事を新たに作成する必要があります。

![はてなブログの編集モードは変換できない](image.png)

私の場合、対象記事が200件以上あったので、手動で消して新たに作成するのは大変です。そこで、ヘルパーコードを用意して以下の手順で変換しました。

1.既存コンテンツをベースにコピーする (C#ヘルパーコード)
2.はてなブログの下書きをまとめて作るための日付一覧を生成する (C#ヘルパーコード + GitHub Actionsワークフロー)
3.はてなブログのHTML記事をMarkdownに変換コピー (C#ヘルパーコード)
4.Markdown変換後にコンテンツからHTMLコメントを消すスクリプト

# 参考

* [新規の記事を書くときに、編集モードを変更できるようにしました - はてなブログ開発ブログ](https://staff.hatenablog.com/entry/2014/12/16/120000)

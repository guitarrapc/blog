---
Title: "Visual Studio 2026のオプション設定"
Category:
- .NET
Date: 2025-12-16T20:00:00+09:00
EditURL: https://blog.hatena.ne.jp/guitarrapc_tech/guitarrapc-tech.hatenablog.com/atom/entry/17179246901333296425
PreviewURL: https://tech.guitarrapc.com/draft/entry/g6NGUEG39bsc0GDW0AZWXHoV0ZM
CustomPath: 2025/12/16/200000
Draft: true
---

Visual Studio 2026はオプション設定が刷新されて、VS Codeのようにシームレスに設定できます。

[f:id:guitarrapc_tech:20251216160652p:plain:alt=Visual Studio 2022のオプション設定]<!--image-1.png-->
[f:id:guitarrapc_tech:20251216160700p:plain:alt=Visual Studio 2026のオプション設定]<!--image.png-->

今回は、私がいつも設定しているオプション設定の一覧を紹介します。

[:contents]

## レイアウト

VS Codeのレイアウトが好きなので、これに寄せています。具体的には、左から`ソリューションエクスプローラー`、`ソースコードエディター`、`GitHub Copilott`の順番です。

- Solution Explorer: `右配置` -> `左配置` (自動ハイド)
- Git Changes: `右配置` -> `左配置` (自動ハイド)
- GitHub Copilot: `左配置` -> `右配置` (常時表示)
- View -> Output: 非表示 -> `下配置`
- View -> ErrorList: 非表示 -> `下配置`
- View -> TaskList: 非表示 -> `下配置`
- View -> Other Windows -> Containers: 非表示 -> `下配置`

デフォルトレイアウトは次の通りです。

[f:id:guitarrapc_tech:20251217002939p:plain:alt=デフォルトレイアウト]<!--image-18.png-->

変更後のレイアウトです。VS Codeっぽい。

[f:id:guitarrapc_tech:20251217002949p:plain:alt=変更後のレイアウト]<!--image-19.png-->

## 設定のリセット

Visual Studioはメジャーリリースごとに設定の変化が大きいため、そのたびにデフォルトへリセットしています。
この記事もデフォルトにリセットした上で、変更箇所だけピックアップします。

[f:id:guitarrapc_tech:20251217002958p:plain:alt=alt text]<!--image-21.png-->

Visual Studio 2026から、変更箇所の左にマークがつくようになってわかりやすくなりました。地味ですが、めちゃめちゃいい改善です。本当によい。

[f:id:guitarrapc_tech:20251216160708p:plain:alt=オプションの変更箇所]<!--image-6.png-->

また項目で右クリックすると、そのオプションだけリセットできるようになったものも神です。

[f:id:guitarrapc_tech:20251216160716p:plain:alt=項目指定でリセット]<!--image-7.png-->

## Tools > Optionsの設定

### Environment

#### Visual Experience

私はWindowsのシステムテーマをダークで利用しています。アプリは基本的にOSのテーマに自動的に同期してほしいので、以下のように設定しています。いろいろな色テーマがあるので、気分で変えるのもいいですね。

- Color theme: `Dark` -> `Use system setting`

[f:id:guitarrapc_tech:20251216160722p:plain:alt=Color theme]

<details><summary>クリックで色テーマの例を見る</summary>

Ice MintMango Paradiseや、Bubblegumなどの明るいテーマも好きです。

| 色 | 見た目 |
|---|---|
| Ice Mint | [f:id:guitarrapc_tech:20251217003005p:plain:alt=Ice Mint] <!--image-23.png--> |
| Mango Paradise | [f:id:guitarrapc_tech:20251217003014p:plain:alt=Mango Paradise] <!--image-20.png--> |
| Bubblegum | [f:id:guitarrapc_tech:20251217003023p:plain:alt=Bubblegum] <!--image-22.png--> |
| Monnlight Glow | [f:id:guitarrapc_tech:20251217003030p:plain:alt=Moonlight Glow]<!--image-24.png--> |
| Spicy Red | [f:id:guitarrapc_tech:20251217003039p:plain:alt=Spicy Red]<!--image-25.png--> |

</details>

デフォルトONになった気がしますが、Visual Studio 2022からの引継ぎだとoffになっている気がします。サーチは大きくある必要がないので、コンパクトを選んでいます。

- Use compact menu and search bar: `on`

[f:id:guitarrapc_tech:20251216160729p:plain:alt=Compact menu and search bar]<!--image-3.png-->

#### Documents

Unicode保存周りを設定します。特にutf-8 BOMなしで保存すると、日本語コメントなどがGitHub上で文字化け、クローン後も文字化けすることがあるため、BOM付きで保存するようにしています。これは日本語特有な感じがしており、OSSでは英語のみにするならUTF-8 BOMなしが良いです。[^1]

- Save documents as Unicode when data cannot be saved in codepage: `on`
- Automatically save files when Visual Studio is in the background: `on`
- Save files with a specific encoding: `Japanese (Shift-JIS) - Code page 932` -> `Unicode (UTF-8 with signature) - Code page 65001`

[f:id:guitarrapc_tech:20251216160736p:plain:alt=DocumentsのUnicode設定]<!--image-4.png-->

タブは左に配置して縦タブ表示しています。VS Codeでは上表示の横タブなのですが、VS Codeより開くタブが多いため、縦タブの方が管理しやすいです。

- Tabs -> Document Tabs -> Tab layout: `Top` -> `Left`

[f:id:guitarrapc_tech:20251216160743p:plain:alt=Tab lauout]<!--image-5.png-->

#### Windows

まだOptionsの統一が完了していないのか、従来の設定画面も残っています。ここも設定しておきましょう。

- More settings -> Fonts and Colors (下参照)

<details><summary>クリックでFonts and Colorsを開く</summary>

フォント設定です。Visual Studioの言語によってですが、日本語の場合MSゴシック系でとても読みにくいため、英語設定のデフォルトである`Cascadia Mono`に変更しています。言語によってフォントが違うのはいいんですが、デフォルト日本語フォントはそろそろアップデートしてもいいのでは?

structの色はデフォルトがclassに近いので、変化を大きくしています。

- Font: `Cascadia Mono`

[f:id:guitarrapc_tech:20251216160832p:plain:alt=フォントをCascadia Monoへ]<!--image-14.png-->

- Display items -> User Types - Structures: デフォルトをベースにカスタム `RGB(81, 114, 156)`

[f:id:guitarrapc_tech:20251216160839p:plain:alt=User Types - Structureの色]<!--image-15.png-->

デフォルト

[f:id:guitarrapc_tech:20251216160846p:plain:alt=デフォルトの色]<!--image-16.png-->

カスタム

[f:id:guitarrapc_tech:20251216160852p:plain:alt=カスタムの色]<!--image-17.png-->

</details>

### Projects and Solutions

ソリューションエクスプローラーで、今開いているファイルが常に選択されるようにしています。VS Codeもそうですが、今はどのIDE/エディタもこの挙動がデフォルトですね。

- General -> Track Active Item in Solution Explorer: `off` -> `on`

ビルドログを自動的に表示するようにしています。

- General -> Show Output window when build starts: `off` -> `on`

[f:id:guitarrapc_tech:20251217003046p:plain:alt=Generalの設定]

VS2026でリセットすれば`.slnx`のはずです。ただ、VS2022から引き継ぐと`.sln`な気がします。`.slnx`はVisual Studio 2022からプレビューサポートされたのですが、人間が扱える程度に簡素化しておりオススメです。今後は`.slnx`を使っていきましょう。

- General -> Default Solution File Format: `.slnx`

[f:id:guitarrapc_tech:20251216160750p:plain:alt=Default Solution File Format]<!--image-8.png-->

#### Modernization

.NET Upgrade Assistantを使ってプロジェクトのモダナイズを支援する機能です。VS2022まではVS拡張でしたが、VS2026から標準機能として組み込まれました。

- Enable legacy Upgrade Assistant: `off` -> `on`

[f:id:guitarrapc_tech:20251217003052p:plain:alt=.NET Upgrade Assistantの有効化]

### Text Editor

面白い機能がいくつか追加されています。例えば`Select subword on double click`は、ダブルクリックで「文字列全体」ではなく「文字列の中の単語」を選択します。つまり、`SortedSequence`という文字列があったら、`off`なら`SortedSequence`全体が選択されますが、`on`なら`Sorted`などダブルリックした箇所の単語だけ選択されます。便利かもしれないですが、私はそういう使い方を求めていないので`off`のままです。

#### Display

ホワイトスペースやゼロ幅文字、括弧の対応カラーリングはコードの可読性向上に寄与するため有効です。特に、Visual Studioはゼロ幅スペースがあってもビルドできちゃうので、妙な攻撃を防ぐ意味でも有効にしています。

- Show whitespace: `off` -> `on`
- Show zero-width characters: `off` -> `on`
- Enable brace pair colorinzation: `off` -> `on`

[f:id:guitarrapc_tech:20251216160756p:plain:alt=テキストのDisplay設定]<!--image-9.png-->

#### Advanced

ファイルレベルのCodeLensは有効にしています。

- Show file level CodeLens indicator: `off` -> `on`

まだインサイダーにしかないのですが、Compress blank linesは空行の高さを25％減らすことでコードの可読性を向上させるオプションです。アルファベットとありますが、日本語でも効くので安心して有効にしましょう。

- Compress blank lines: `off` -> `on`
- Compress lines that do not have any aleart indicators: `off` -> `on`

[f:id:guitarrapc_tech:20251216160803p:plain:alt=Textエディターの詳細設定]<!--image-10.png-->

まだインサイダーにしかないのですが、ミドルクリックでスクロールできるようになるオプションです。ブラウザで自動スクロールさせて長いコードや文章を読む癖があるので、Visual Studioでつかるようになるのはうれしいです。

- Touchpad and mouse wheel scrolling sensivity -> Middle clock to scroll: `off` -> `on`

[f:id:guitarrapc_tech:20251216160811p:plain:alt=Middle clock to scroll]<!--image-12.png-->

目の前に集中して読み下すときに本当に便利です。

[f:id:guitarrapc_tech:20251216160817p:plain:alt=中央クリックが効くようになる]<!--image-11.png-->

### GitHub

#### Copilot Chat

Planningを有効にします。

- Enable Planning: `off` -> `on`

Copilot Codingエージェントを有効にします。

- Enable Copilot Coding agent (Preview): `off` -> `on`

Copilotのカスタム指示を有効にします。

- Enable custom instructions to be loaded from .github/instructions/*.instructions files: `off` -> `on`

[f:id:guitarrapc_tech:20251217003100p:plain:alt=alt text]

## まとめ

リセットしてからの変更項目も減って、かなりデフォルトに寄せつつ使えるようになりました。
VS 2022もリリース当時は早くなった感じがしましたが、こうやって見るとずいぶん遅く感じます。VS 2026は起動、動作ともに軽快なのでこのまま軽いIDEであってほしいです。

[^1]: Shift-JISのトラブルが妙なところで残ってて悲しい

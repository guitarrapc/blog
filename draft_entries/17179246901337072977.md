---
Title: CSSでテキストを調整して読みやすさを調整する
Category:
- css
Date: 2025-12-26T23:00:00+09:00
EditURL: https://blog.hatena.ne.jp/guitarrapc_tech/guitarrapc-tech.hatenablog.com/atom/entry/17179246901337072977
PreviewURL: https://tech.guitarrapc.com/draft/entry/wpDsvsMTzed6Oe_DeSpNgrMRBs0
CustomPath: 2025/12/26/230000
---

本ブログは[CodeFocus](https://blog.hatena.ne.jp/-/store/theme/6802418398435013379)テーマを利用しています。
12/26にリリースした[v1.7.0](https://github.com/guitarrapc/hatenablog-theme-codefocus/releases/tag/v1.7.0)で、テキストの読みやすさを向上させるためCSSを調整しました。
今回はどのような意図で変更したのかメモです。

[:contents]

## Before & After

まず、文章の見た目の違いを見てみましょう。

Before

![Before](image.png)<![f:id:guitarrapc_tech:20251227053213p:plain:alt=Before]<!--image.png-->

After

[f:id:guitarrapc_tech:20251227053222p:plain:alt=After]<!--image-1.png-->

## 変更内容

変更前はZennやNoteのスタイルを参考に次の調整をしていましたが、、読みやすさの観点から見直しを行いました。

| 変更前の調整内容 | 変更後の調整内容 |
| --- | --- |
| Windowsは`Meiryo`が使われる想定 | Windowsで`Noto Sans JP`を`Meiryo`より優先して使うように調整 |
| 日本語文章の文字間スペースは未設定 | `letter-spacing: 0.05em`で調整 |
| fontのプロポーショナルフォント設定は未設定 | `font-feature-settings: "palt" 1`を追加 |
| aリンクの前後スペースは未設定 | `a`タグの前後に`padding: 0 2px`の調整 |
| 全体は`line-height: 1.9`、`p`タグの行間は`line-height: 1.8` | 全体を`line-height: 1.9`に統一 |

大きくは、文章の文字間スペースとリンク前後のスペースを追加したこと、Windowsのフォント調整がポイントです。

## Windowsのフォント調整

変更前のフォント設定は以下のようになっていました。Windowsを除く環境ではHiraginoやHelvetica系フォントが優先される想定ですが、Windowsには通常ないのでMeiryoが選択されます。当初、Meiryoはそこまで悪くない見た目だと考えていましたが、iOSやmacOSで見た後にWindowsで見ると、ジャギーな印象が強く、プラットフォームを跨いだ時に見た目の統一感が損なわれてしまうことがわかりました。

```css
font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic ProN", "Hiragino Sans", 'Helvetica Neue', 'Helvetica', 'Meiryo', sans-serif, "Segoe UI Emoji";
```

WindowsでMeiryoが使われた時の見た目は以下の通りです。MSゴシックのようなジャギーさを感じます。

[f:id:guitarrapc_tech:20251227053232p:plain:alt=Meiryoの見た目]<!--image-6.png-->

そこで、変更後は以下のように`Noto Sans JP`を追加し`Meiryo`より優先されるようにしました。Windows 11には2025年4月から標準で`Noto Sans JP`がインストールされているため、事実上Windows環境では`Noto Sans JP`が優先されることになります。Noto Sans JPはMeiryoよりも滑らかな印象で、Hiraginoに近い見た目なので、プラットフォームを跨いだ時の見た目の統一感が向上します。

```css
font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic ProN", "Hiragino Sans", 'Helvetica Neue', 'Helvetica', "Noto Sans JP", 'Meiryo', sans-serif, "Segoe UI Emoji";
```

WindowsでNoto Sans JPが使われた時の見た目は以下の通りです。

[f:id:guitarrapc_tech:20251227053240p:plain:alt=Noto Sans JPの見た目]<!--image-7.png-->

ただ、`Noto Sans JP`はMeiryoよりも文字間が広いため、そのままだと今度は1行で収まる文字数が減ってしまい、逆に読みづらくなってしまいます。そこで、文字間スペースを調整します。

## 文字間スペースの調整

文字間スペースは、`letter-spacing`と`font-feature-settings: "palt" 1`の両方を設定することで、より自然な見た目になるように調整しています。

当初は、`letter-spacing`のみで調整しようと考えましたが、全角文字と半角文字のバランスが難しく、また`Noto Sans JP`で文字幅が広がりすぎる問題もありました。そこで、[この記事](https://note.com/howmanydesigns/n/n9ed751373b8f#fc2fe1a9-a853-4464-a26c-d2b98fb09c34)を参考に、`font-feature-settings: "palt" 1`も併用することにしました。

`font-feature-settings: "palt"`はプロポーショナルフォントを有効にするCSSプロパティで、フォントが対応しているなら文字ごとにプロポーショナルで自動調整されます。設定値ごとの見た目の違いを示します。ただ、これだけだと全体的に文字が詰まった印象になるため、`letter-spacing`も併用して調整します。

以下は、プロパティの組み合わせごとの見た目の違いです。例えば、句読点の`、`や全角文字、半角文字の見た目がどのように変わるかを比較しています。両方未設定では、`、`と全角文字が同じ幅で表示されて間延びした印象、かつ半角文字は狭く詰まった印象になります。`font-feature-settings: "palt"`のみ設定するとフォントごとのプロポーショナル幅が考慮されるため`、`や全角文字の間延びが解消されますが、全角/半角文字とも詰まった印象になります。`letter-spacing`のみ設定すると、全体的に文字間が広がり半角文字の詰まりが解消されますが、全角文字がより広がってしまいます。`font-feature-settings: "palt" 1`と`letter-spacing`両方を設定することで、全角文字はプロポーショナルですが適度な文字間、半角文字はほどほどの文字間で表示され、全体的に読みやすい見た目になります。

| 設定 | 見た目 |
| --- | --- |
| 未設定 | [f:id:guitarrapc_tech:20251227053249p:plain:alt=未設定] <!--image-2.png--> |
| `font-feature-settings: "palt" 1`のみ設定 | [f:id:guitarrapc_tech:20251227053256p:plain:alt=font-feature-settingsのみ設定] <!--image-3.png--> |
| `letter-spacing`のみ設定 | [f:id:guitarrapc_tech:20251227053305p:plain:alt=letter-spacingのみ設定] <!--image-4.png--> |
| `letter-spacing`と`font-feature-settings: "palt" 1`の両方を設定 | [f:id:guitarrapc_tech:20251227053314p:plain:alt=letter-spacingとfont-feature-settingsの両方を設定] <!--image-5.png--> |

[font-feature-settings](https://helpx.adobe.com/jp/fonts/using/open-type-syntax.html#pwid)は他にもいろいろ設定があるのですが、ブログ記事的にはこの設定ぐらいですかね?

## aリンク前後のスペース調整

もう1つ気になっていたのが、aリンクの前後のスペースです。変更前は特に調整していなかったため、文章中のリンク部分は文章に溶け込んでいます。画像はWindowsですが、iOSのような1行が少ない文字列な環境ではリンク部分がやけに詰まって見えていました。これは日本語文中に英語のリンク部分が混じると、文字間のスペースが詰まって感じるためだと考えています。

[f:id:guitarrapc_tech:20251227053321p:plain:alt=aタグを無調整]<!--image-8.png-->

当初はこれでも気にならなかったのですが、いくつかのZenn記事でリンク前後にスペースがある文章を読んでいて、リンク部分が色の違いだけでなくわずかなスペースがあることで自然な読みやすさを感じました。このスペースは半角スペースほど広げる必要はなく、1,2pxで十分です。そこで、`a`タグの前後に`padding: 0 2px`を追加しました。

```css
a {
  /* ... */
  padding: 0 2px;
}
```
変更後の見た目は以下の通りです。

[f:id:guitarrapc_tech:20251227053328p:plain:alt=aタグの前後に2pxの隙間]<!--image-9.png-->
いスタイルは何かを考えて更新し続けています。今回の調整もその一環です。

普段はiOSで記事を読むことも多く気になってなかったのですが、ここしばらくはWindows環境での見た目に違和感を覚えて何が原因か考えていました。最終的に、フォント選択と文字間スペースの調整で解決できたと考えていますが、今後も読みにくさに気づいたら改善していきます。

技術記事といえばZennですが、中にはSEOや巡回性ではなく見た目でZennとなることもあります。それもいいのですが、はてなブログでも技術記事を快適に読める選択を提供したいと考えてるので、一度CodeFocusテーマも試してみてください。

## line-heightの調整

これまで全体の`line-height: 1.9`、`p`タグは`line-height: 1.8`に分けていましたが、今回の調整で全体を1.9に統一しました。行間は広めに取ることで読みやすさが向上するため、全体的に統一した方が良いと判断しました。

参考記事は、`line-height: 2`を推奨しているものもありますが、技術記事は縦が伸びやすいこともあり、1.9に落ち着けています。いくつかのブログが2を採用していますが、個人的には少し広すぎる印象です。

## 参考


- [Webデザインに最適なフォントサイズと行間・字間 ｜fumufumuUI](https://fumufumuui.com/posts/font-size)
- [紙のデザインに近づけたい！Webでも文字詰めにこだわってみる。【Web Design Talk】｜How many designs](https://note.com/howmanydesigns/n/n9ed751373b8f)
- [CSS での OpenType 機能の構文](https://helpx.adobe.com/jp/fonts/using/open-type-syntax.html#pwid)

GitHub

- [guitarrapc/hatenablog-theme-codefocus | GitHub](https://github.com/guitarrapc/hatenablog-theme-codefocus)

テーマ

- [CodeFocus - はてなブログ テーマストア](https://blog.hatena.ne.jp/-/store/theme/6802418398435013379)

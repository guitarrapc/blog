---
Title: GitHub Actionsã®CVE-2025-30066ã‚’å—ã‘ãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å¤‰åŒ–
Category:
- CI/CD
Date: 2025-04-05T23:59:00+09:00
EditURL: https://blog.hatena.ne.jp/guitarrapc_tech/guitarrapc-tech.hatenablog.com/atom/entry/6802418398373396786
PreviewURL: https://tech.guitarrapc.com/draft/entry/Kc53P5y5ZmeEXucwetdqoul38bw
CustomPath: 2025/04/05/235900
Draft: true
---

2025å¹´3æœˆ28æ—¥ã«ã‚ã£ãŸtj-actionã‚„reviewdogã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆ[CVE-2025-30066](https://nvd.nist.gov/vuln/detail/CVE-2025-30066)ã‚’å—ã‘ã¦ã€GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ›¸ãæ–¹ãŒå¤‰ãˆã¦ã—ã°ã‚‰ãçµŒã¡ã¾ã—ãŸã€‚

ä»Šå›ã¯ãã®ãƒ¡ãƒ¢ã§ã™ã€‚

[:contents]

# CVE-2025-30066ã®æ¦‚è¦

[ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆ](https://unit42.paloaltonetworks.com/github-actions-supply-chain-attack/)ã«è©³ã—ã„ã§ã™ãŒã€ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã¨[spotbugs/sonar-findbugs](https://github.com/spotbugs/sonar-findbugs)ã‚’èµ·ç‚¹ã«[reviewdog/action-setup](https://github.com/reviewdog/action-setup)ã‚’çµŒç”±ã—ã¦[tj-action/changed-files](https://github.com/tj-actions/changed-files)ã®ãƒªãƒªãƒ¼ã‚¹ã®ã»ã¨ã‚“ã©ãŒæ”¹ã–ã‚“ã•ã‚Œã¾ã—ãŸã€‚æ”¹ã–ã‚“ã‚³ãƒŸãƒƒãƒˆã¯ã€base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸPythonã®ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã‚’å–å¾—/å®Ÿè¡Œã™ã‚‹ã‚‚ã®ã§ã€GitHub Actionsã®ãƒ©ãƒ³ãƒŠãƒ¼ã§å®Ÿè¡Œã•ã‚Œã‚‹ã¨ã€GitHub Actionsã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’å–å¾—ã—ã¦ãƒ­ã‚°å‡ºåŠ›ã—ã¾ã™ã€‚æ”»æ’ƒè€…ã®ç‹™ã„ã¯[coinbase/agentkit](https://github.com/coinbase/agentkit)ã ã£ãŸã‚ˆã†ã§ã™ãŒã€tj-action/changed-filesã®åˆ©ç”¨è€…ãŒå¤šãã€å½±éŸ¿ç¯„å›²ãŒåºƒãŒã‚Šã¾ã—ãŸã€‚

åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã¯ã€tj-action/changed-filesã®ã‚¿ã‚°æŒ‡å®šã§åˆ©ç”¨ã—ã¦ã„ã‚‹GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã¦GitHub Actionsã®ãƒ©ãƒ³ãƒŠãƒ¼ã§åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒActionãƒ­ã‚°ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã«ãŠã„ã¦ã¯CIãƒ­ã‚°ã¯å¤–éƒ¨ã‹ã‚‰ç¢ºèªã§ããªã„ãŸã‚é™å®šçš„ã§ã™ãŒã€å…¬é–‹ãƒªãƒã‚¸ãƒˆãƒªã«ãŠã„ã¦ã¯ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã‚’ç¬¬ä¸‰è€…ãŒç¢ºèªã§ãã‚‹ãŸã‚GitHub Actionsã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒæ¼æ´©ã—ã¾ã™ã€‚

ãªãŠã€CVEç™ºç”Ÿæ™‚ã«GitHubã¯æ¬¡ã®å¯¾å¿œã‚’ã—ã¦ã„ã¾ã™ã€‚

* tj-action/changed-filesã®ãƒªãƒã‚¸ãƒˆãƒª/ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½¿ç”¨ã§ããªã„ã‚ˆã†ã«å¤‰æ›´
* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã™ã¹ã¦ã®ãƒªãƒªãƒ¼ã‚¹ãŒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã€æ‚ªæ„ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œãªããªã£ã¦ã‹ã‚‰ãƒªãƒã‚¸ãƒˆãƒªã‚’å¾©æ—§
* æ‚ªæ„ã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼jurkaofavak/randolzfowã®å‰Šé™¤
* Gistã«å…¬é–‹ã•ã‚Œã¦ã„ãŸã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã§åˆ©ç”¨ã•ã‚ŒãŸPythonã‚³ãƒ¼ãƒ‰ã®å‰Šé™¤[^1]
* å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®GitHub PATã‚’æœŸé™åˆ‡ã‚Œã«è¨­å®š (å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯PATã‚’ç™ºè¡Œã—ãªãŠã—ãŸã¯ãšã§ã™)

# CVE-2025-30066ã®å½±éŸ¿ã‚’è»½æ¸›ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã®ã‹

CVE-2025-30066ã®ã‚ˆã†ãªGitHub Actionsã®ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã¯ä»Šå¾Œã‚‚èµ·ã“ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚GitHub Actionsã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§ã‚ã‚Šèª°ã§ã‚‚ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã§ãã¾ã™ã—ã€ãƒ¡ãƒ³ãƒ†ãƒŠã®PATãŒæ¼æ´©ã—ã¦æ„å›³ã›ãšå¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚
åˆ©ç”¨è€…ã¨ã—ã¦ã¯æ”¹ã‚ã¦èªè­˜ã—ãŸãƒã‚¤ãƒ³ãƒˆã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚

1. ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚°/ãƒªãƒªãƒ¼ã‚¹ã¯æ›¸ãæ›ãˆã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
3. åˆ©ç”¨è€…ã®Personal Access Token (PAT)ã‚„GITHUB Appã¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§æ¼ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
4. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚„ã‚¸ãƒ§ãƒ–ã«è¨­å®šã—ãŸç’°å¢ƒå¤‰æ•°ã¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦CIãƒ­ã‚°ã«æ›¸ãå‡ºã›ã‚‹
5. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚„ã‚¸ãƒ§ãƒ–ã®æ¨©é™ãŒé«˜ã„ã»ã©ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãŒå¤§ãã„
6. ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã®`pull_request_target`ã‚¤ãƒ™ãƒ³ãƒˆã®åˆ©ç”¨ã¯ãƒªã‚¹ã‚¯ãŒé«˜ã„
7. ã‚³ãƒŸãƒƒãƒˆã¯åˆ¥ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å½ã‚Œã‚‹

åˆ©ç”¨è€…ã¨ã—ã¦è»½æ¸›ç­–ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸãŒã€å¤šã„ã§ã™ã­ã€‚å„ªå…ˆåº¦ã‚’ã¤ã‘ãªã„ã¨å¤§å¤‰ã§ã™ãŒã€é™çš„è§£æãƒ„ãƒ¼ãƒ«ã§è‡ªå‹•æ¤œçŸ¥ã§ãã‚‹ã‚‚ã®ã‹ã‚‰å¯¾å‡¦ã—ã¦ã„ãã¨è‰¯ã•ãã†ã§ã™ã€‚

* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã‚¿ã‚°/ãƒªãƒªãƒ¼ã‚¹ã§ã¯ãªãã‚³ãƒŸãƒƒãƒˆSHAã‚’æŒ‡å®šã™ã‚‹ (pinactã§å¯¾å¿œå¯èƒ½)
* ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«æŒ‡å®šã™ã‚‹PATã‚„GITHUB Appã¯æ¨©é™ã‚’æœ€å°é™ã«ã™ã‚‹
* ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã™ã‚‹å ´åˆã€ã‚¹ãƒ†ãƒƒãƒ—ã®ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã™ã‚‹ (ghalintã§æ¤œå‡ºå¯èƒ½)
* ã‚¸ãƒ§ãƒ–ã”ã¨ã«æœ€å°æ¨©é™ã‚’è¨­å®šã™ã‚‹ (ghalintã§æ¤œå‡ºå¯èƒ½)
* ãƒªãƒã‚¸ãƒˆãƒªã®è‡ªå‹•ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¨©é™ã‚’`write`ã‹ã‚‰`read`ã«è¨­å®šã—ãªãŠã™[^2]
* ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã§`pull_request_target`ã‚¤ãƒ™ãƒ³ãƒˆã¯æ¥µåŠ›é¿ã‘ã‚‹ (ghalint/zizmorã§æ¤œå‡ºå¯èƒ½)
* Rulesetã§ã‚³ãƒŸãƒƒãƒˆç½²åã®å¿…é ˆåŒ–ã‚’æ¤œè¨ã™ã‚‹
* Rulesetã§ã‚¿ã‚°ã®æ›´æ–°ãƒ»å‰Šé™¤ã‚’ç¦æ­¢
* Rulesetã§ã‚¿ã‚°ã®ä½œæˆå¯èƒ½ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’organization adminã‚„repository adminã«é™å®šã™ã‚‹

# äº‹å‰æº–å‚™ã¨ã—ã¦ã®é™çš„è§£æãƒ„ãƒ¼ãƒ«

çœŸã£å…ˆã«å–ã‚Šçµ„ã‚€ã¹ãã¯é™çš„è§£æãƒ„ãƒ¼ãƒ«ã«ã‚ˆã‚‹è‡ªå‹•åŒ–ã§ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã‚’è¤‡æ•°ç®¡ç†ã—ã¦ã„ã‚‹ã¨æ‰‹å‹•ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’èª¿æ•´ã™ã‚‹ã®ã¯ç„¡ç†ã§ã™ã€‚æ™‚é–“ã¯æœ‰é™ãªã®ã§ã€ã§ãã‚‹ã ã‘è‡ªå‹•åŒ–ã—ã¦è¦‹è½ã¨ã—ã‚’é˜²ãã¤ã¤ç²¾åº¦ã‚’é«˜ã‚ã¾ã—ã‚‡ã†ã€‚

ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã—ã¦ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®é™çš„è§£æãŒã§ãã¾ã™ã€‚

| ãƒ„ãƒ¼ãƒ«å | èª¬æ˜ |
| --- | --- |
| [actionlint](https://github.com/rhysd/actionlint) | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã¨Shellcheckãªã© |
| [ghalint](https://github.com/suzuki-shunsuke/ghalint) | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ç°¡æ˜“çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ |
| [zizmor](https://github.com/woodruffw/zizmor) | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ã‚ˆã‚Šå³ã—ã„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ |

ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã—ã¦ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«è‡ªå‹•é©ç”¨ã§ãã¾ã™ã€‚

| ãƒ„ãƒ¼ãƒ«å | èª¬æ˜ |
| --- | --- |
| [pinact](https://github.com/suzuki-shunsuke/pinact) | ã‚¿ã‚°ã‚„ãƒ–ãƒ©ãƒ³ãƒæŒ‡å®šã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’SHAã«å¤‰æ›ã™ã‚‹ |
| [disable-checkout-persist-credentials](https://github.com/suzuki-shunsuke/disable-checkout-persist-credentials) | checkoutã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®`persist-credentials`ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ |

ç§ã®ãŠã™ã™ã‚ã¯ã€æ¬¡ã®æµã‚Œã§ã™ã€‚

1. pinactã§SHAã«å¤‰æ›ã™ã‚‹
2. disable-checkout-persist-credentialsã§`checkout`ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®`persist-credentials`ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹
3. actionlintã‚’å®Ÿè¡Œã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹æ–‡ã‚’æ¨™æº–åŒ–ã™ã‚‹
4. ghalintã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã¦ã€å‡ºã¦ããŸã‚¨ãƒ©ãƒ¼/è­¦å‘Šã‚’ä¿®æ­£ã™ã‚‹

## zizmorã¯å³ã—ã™ãã‚‹ã‹ã‚‚

zizmorã¯ãƒã‚§ãƒƒã‚¯ãŒå³ã—ã™ãã‚‹ã¨æ„Ÿã˜ãŸã®ã§ã€ä½•ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ã‹ã‚‰æ¤œè¨ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ä¿®æ­£ã—ã¦ã¿ã¦ã€ã“ã‚Œã‚’ã‚ã’ã‚‰ã‚Œã‚‹ã®ã¯ç‰¹ã«ã¤ã‚‰ã‹ã£ãŸãƒã‚¤ãƒ³ãƒˆã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

inputsã®åˆ¤å®šæ¬¡ç¬¬ã§ãã“ã¾ã§å³ã—ãã™ã‚‹ç†ç”±ãŒãªã„ã‚ˆã†ãª...ã€‚

```yaml
# âŒ: runã§inputsã‚’ç›´æ¥ä½¿ãŠã†ã¨ã™ã‚‹ã¨high levelã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹
- name: Output foo input
  shell: bash
  run: echo "foo is ${{ inputs.foo != '' && inputs.foo || env.FOO }}"

# â­•: ç’°å¢ƒå¤‰æ•°ã«ã„ã‚Œã¦ã‹ã‚‰ç’°å¢ƒå¤‰æ•°ã‚’runã§æŒ‡å®šã™ã‚‹ã€‚
- name: Output foo input
      shell: bash
      run: echo "foo is ${VALUE}"
      env:
        VALUE: ${{ inputs.foo != '' && inputs.foo || env.FOO }}
```

githubã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®åˆ¤å®šã‚‚å³ã—ã™ãã‚‹ã¨æ„Ÿã˜ã¾ã™ã€‚Issueã‚¿ã‚¤ãƒˆãƒ«ã¯ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ä½™åœ°ãŒã‚ã‚‹ã®ã§ã¾ãšã„ã®ã¯åŒæ„ã§ã™ãŒã€`event_name`ã§ãƒˆãƒ©ãƒ–ãƒ«æƒ³å®šã¯ã¡ã‚‡ã£ã¨æ€ã„ã¤ã‹ãªã„ã§ã™ã€‚

```yaml
# âŒ: event_nameã‚’ç›´æ¥ä½¿ãŠã†ã¨ã™ã‚‹ã¨high levelã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹
- name: file names
  id: file
  run: echo "name=${{ github.event_name }}${{ github.event.action != '' && format('_{0}', github.event.action) || ''}}${{ github.event_name == 'push' && format('_{0}', github.ref_type) || ''}}" | tee -a "$GITHUB_OUTPUT"

# â­•: ç’°å¢ƒå¤‰æ•°ã«ã„ã‚Œã¦ã‹ã‚‰ç’°å¢ƒå¤‰æ•°ã‚’runã§æŒ‡å®šã™ã‚‹ã€‚
- name: file names
  id: file
  env:
    EVENT_NAME: ${{ github.event_name }}
    EVENT_ACTION: ${{ github.event.action }}
    REF_TYPE: ${{ github.ref_type }}
  run: |
    ACTION_PART=""
    if [ -n "$EVENT_ACTION" ]; then
      ACTION_PART="_${EVENT_ACTION}"
    fi

    REF_PART=""
    if [ "$EVENT_NAME" = "push" ]; then
      REF_PART="_${REF_TYPE}"
    fi

    FILENAME="${EVENT_NAME}${ACTION_PART}${REF_PART}"
    echo "name=$FILENAME" | tee -a "$GITHUB_OUTPUT"
```

ä¸€æ–¹ã§ã€å†åˆ©ç”¨å¯èƒ½ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§`secrets: inherit`ã‚’ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹ã®ã¯å‰²ã¨ã„ã„æŒ‡æ‘˜ã«æ„Ÿã˜ã¾ã™ã€‚ã¤ã„ã‚„ã£ã¡ã‚ƒã„ãŒã¡ã§ã™ãŒã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãªãƒªãƒã‚¸ãƒˆãƒªã§ã¯secretsã‚’ã¡ã‚ƒã‚“ã¨æ˜ç¤ºã™ã‚‹ã»ã†ãŒã„ã„ã§ã—ã‚‡ã†ã€‚

```yaml
# âŒ: secretsã‚’inheritã«ã™ã‚‹ã¨medium levelã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹
jobs:
  call-workflow-passing-data:
    uses: ./.github/workflows/_reusable-workflow-called.yaml
    with:
      username: ${{ inputs.username }}
      is-valid: ${{ inputs.is-valid }}
    secrets: inherit

# â­•: secretsã‚’æ˜ç¤ºã™ã‚‹
jobs:
  call-workflow-passing-data:
    uses: ./.github/workflows/_reusable-workflow-called.yaml
    with:
      username: ${{ inputs.username }}
      is-valid: ${{ inputs.is-valid }}
    secrets:
      APPLES: ${{ secrets.APPLES }}
```

ã¾ãŸã€actions/checkoutã§`persist-credentials: false`ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹ã®ã‚‚ã„ã„æ„Ÿã˜ã§ã™ã€‚

```yaml
# âŒ: persist-credentialsãŒtrueã ã¨medium levelã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹
- uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2

# â­•: persist-credentialsãŒfalseã ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„
- uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2
  with:
    persist-credentials: false
```

# å‚è€ƒ

* [NVD - CVE-2025-30066](https://nvd.nist.gov/vuln/detail/CVE-2025-30066)
* [GitHub Actions Supply Chain Attack: A Targeted Attack on Coinbase Expanded to the Widespread tj-actions/changed-files Incident: Threat Assessment (Updated 4/2)](https://unit42.paloaltonetworks.com/github-actions-supply-chain-attack/)
* [Semgrep | ğŸš¨ Popular GitHub Action tj-actions/changed-files is compromised](https://semgrep.dev/blog/2025/popular-github-action-tj-actionschanged-files-is-compromised/)
* [Harden-Runner detection: tj-actions/changed-files action is compromised - StepSecurity](https://www.stepsecurity.io/blog/harden-runner-detection-tj-actions-changed-files-action-is-compromised)



* [tj-actions ã®ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆã‚’èª­ã‚“ã ](https://zenn.dev/shunsuke_suzuki/articles/tj-actions-incident-2025#fork-network-%E3%81%AE%E6%82%AA%E7%94%A8)
* [GitHub ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ”¹å–„](https://zenn.dev/shunsuke_suzuki/articles/github-security-2025)
* [GitHub Actions ã‚’é™çš„æ¤œæŸ»ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹ (actionlint/ghalint/zizmor)](https://zenn.dev/kou_pg_0131/articles/gha-static-checker)


[^1]: https://gist.githubusercontent.com/nikitastupin/30e525b776c409e03c2d6f328f254965/raw/memdump.py
[^2]: æ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ`read`ã§ã™ãŒã€ä»¥å‰ã‹ã‚‰ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ`write`ã«ãªã£ã¦ã„ã¾ã™
